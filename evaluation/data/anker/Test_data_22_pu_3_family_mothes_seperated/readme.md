# 家庭安防基于记忆推理人物身份任务说明

## 任务目标

基于三个家庭两个月的监控视频数据，完成以下核心任务：

1. **提取家庭长期记忆**：从9月份标注数据中学习每个家庭规律行为、人员关系，家庭成员组成，人员构成、生活习惯，家庭车辆的属性，宠物的属性，家庭成员的兴趣爱好，家庭成员的日常活动等长期记忆信息
2. **构建用户画像**：基于长期记忆数据，为每个家庭建立用户画像，包括：
   - 家庭成员数量 （人员数量和宠物数量）
   - 家庭成员着装偏好（颜色，款式），个人特征明显的属性（发色，光头等），家庭或者家庭成员的习惯或者偏好
   - 车辆属性（颜色，车型）
   - 宠物属性（宠物颜色，类别（猫或者狗））
   - 家庭规律（上下班时间， 遛狗时间，离家方式，回家方式，小孩上学放学时间，小孩上学方式（校车，自行车），投递规律，家人作息时间）
   - 家庭关系 （同行关系， 熟人关系（party，聚会））

3. **身份推理**：使用提取的长期记忆和用户画像，对10月份无标注数据进行身份推理，预测 `role_type` 和 `sub_role_type`

## 数据说明

### 数据结构

- **目录结构**：每个文件夹代表一个不同的家，文件名为编号：
- **文件命名规则**：
  - 格式：`{硬件编号}_{月份}.json`
  - 示例：`T8030P132215001F_09.json` 硬件编号为 `T8030P132215001F` 的家庭在9月份的数据
  - 相同前缀（如 `T8030P132215001F`）代表同一家庭
  - 后缀数字（如 `09`、`10`）代表月份

### 数据文件类型

1. **训练数据（9月份）**：
   - 文件名格式：`{硬件编号}_09.json`
   - 包含完整标注：`role_type`、`sub_role_type`、`original_description`、`timestamp`
   - 用途：用于学习家庭长期记忆和构建用户画像

2. **测试数据（10月份）**：
   - 文件名格式：`{硬件编号}_10_no_role.json`
   - 仅包含：`original_description`、`timestamp`
   - **不包含**：`role_type`、`sub_role_type`
   - 用途：用于测试身份推理能力

### JSON字段说明

每个JSON文件是一个对象，键为视频文件路径，值为视频描述对象：

```json
{
  "视频路径": {
    "original_description": "视频内容的完整描述",
    "role_type": "身份大类（仅9月数据有）",
    "sub_role_type": "身份细分子类（仅9月数据有）",
    "timestamp": "视频发生的准确时间戳（格式：YYYYMMDDHHmmss）"
  }
}
```

**字段详细说明**：

- `original_description`：整个视频内容的英文描述，包含时间、地点、人物行为、外貌特征等详细信息
- `role_type`：身份大类（仅9月训练数据包含）
- `sub_role_type`：身份细分子类（仅9月训练数据包含）
- `timestamp`：视频发生的准确时间戳，格式为 `YYYYMMDDHHmmss`（年月日时分秒）

## 身份分类体系

### 身份大类（role_type）

#### 1. General Identity（普通身份）
正常身份的人员，包括家庭成员和访客。

#### 2. Passerby（路人）
路过的人员，与家庭无直接关系。

#### 3. Staff（工作人员）
提供各种服务的工作人员。

#### 4. Suspicious Person（有风险的人）
存在安全风险或异常行为的人员。

#### 5. Unspecified（不确定）
无法明确判断身份的情况。

#### 6. Non-Human（无人场景）
不涉及人员的事件或场景。

### 身份细分子类（sub_role_type）

#### General Identity（普通身份）的子类

- **Family Member**：家人
  - 家庭成员，包括成年人和儿童
  - 通常有规律的活动模式，熟悉环境

- **Visitor**：访客
  - 到访的家庭访客
  - 可能定期访问或偶尔访问

- **Other General Identity**：其它正常身份
  - 其他正常身份的人员，不属于上述两类

#### Passerby（路人）的子类

- **Passerby**：路人
  - 路过的人员，与家庭无直接关系

#### Staff（工作人员）的子类

- **Delivery Person**：快递员
  - 不限制制服，可结合行为判断（如携带包裹、拍照等）

- **Police**：警察
  - 执法人员

- **Service Worker**：工人
  - 需穿工作服的服务人员（如维修工、清洁工等）

- **Government Worker**：政府工作人员
  - 政府相关工作人员

- **Other Staff**：其他工作人员
  - 其他类型的工作人员

#### Suspicious Person（有风险的人）的子类

- **Unauthorized Entry**：非法入侵
  - 未经授权进入的人员

- **Property Damage**：偷走/破坏财产
  - 偷窃或破坏财产的行为

- **Armed Person**：持刀持枪
  - 携带武器的人员

- **Fighting**：打架斗殴
  - 发生冲突或打斗

- **Other Suspicious Person**：其它风险人物
  - 其他存在安全风险的人员

#### Unspecified（不确定）的子类

- **Unspecified**：不确定
  - 无法明确判断身份的情况

#### Non-Human（无人场景）的子类

- **Critical Non-Human Event**：无人异常（危险动物，火灾/爆炸）
  - 涉及危险动物、火灾、爆炸等严重异常事件

- **Vehicle Activity**：车辆活动
  - 车辆相关的活动

- **Pet/Animal Activity**：普通宠物/动物活动
  - 宠物或普通动物的活动

- **Environmental Change Only**：无明显变化场景
  - 仅环境变化，无明显事件

## 任务要求

### 核心挑战

1. **长期记忆提取**：
   - 从9月份数据中识别家庭成员的行为模式、外貌特征、活动规律
   - 识别常见访客的特征和访问模式
   - 识别不同类型工作人员的接触模式
   - 建立家庭的行为基线，用于识别异常

2. **用户画像构建**：
   - 为每个家庭建立独特的用户画像
   - 画像应包含可量化的特征（如活动时间、频率、行为模式）
   - 画像应支持身份推理任务

3. **身份推理**：
   - 基于长期记忆和用户画像，对10月份数据进行身份推理
   - 推理应考虑：
     - 外貌特征匹配（与已知家庭成员/访客对比）
     - 行为模式匹配（是否符合家庭成员/访客的行为习惯）
     - 时间模式匹配（活动时间是否符合已知规律）
     - 上下文信息（场景、时间、行为组合）

### 评估指标

- 身份大类（role_type）分类准确率
- 身份细分子类（sub_role_type）分类准确率
- 家庭成员识别准确率（区分家人与访客）
- 异常事件检测准确率（识别Suspicious Person和Critical Non-Human Event）

## 数据文件列表

### 家庭1：T8030P1322100087
- 训练数据：`T8030P1322100087_09.json`
- 测试数据：`T8030P1322100087_10_no_role.json`

### 家庭2：T8030P132215001F
- 训练数据：`T8030P132215001F_09.json`
- 测试数据：`T8030P132215001F_10_no_role.json`

### 家庭3：T8030P232228002B
- 训练数据：`T8030P232228002B_09.json`
- 测试数据：`T8030P232228002B_10_no_role.json`

## 注意事项

1. **时间连续性**：9月和10月数据是连续的，应利用时间连续性进行推理
2. **家庭独特性**：每个家庭的行为模式可能不同，需要为每个家庭建立独立的记忆和画像
3. **描述信息利用**：`original_description` 包含丰富的外貌、行为、时间信息，应充分利用
4. **特殊情况处理**：注意处理 Unspecified 和 Non-Human 场景
5. **数据质量**：所有字段都是人工标注结果，可能存在标注不一致的情况，需要鲁棒性处理
